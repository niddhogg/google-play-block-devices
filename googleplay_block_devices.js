var blocked_devices_all = ["GT-S5570I", 
"GT-S5830i", 
"GT-S5360B",
"GT-S6802B",
"GT-S6802",
"GT-S5360",
"GT-S5300",
"GT-S5830M",
"GT-S5300B",
"GT-S5360T",
"GT-S6102",
"GT-S6102B",
"GT-S5360L",
"GT-S5300L",
"GT-S5839i",
"GT-S6102E",
"vivalto3mveml3g",
"cprimeltemtr",
"HT7070MG",
"D2114",
"ac90cv",
"KENEKSI_Delta_Dual",
"keneksi77_3776",
"KENEKSI",
"KENEKSI-SUN",
"KENEKSI-Wind",
"KENEKSI_Libra_Dual",
"KENEKSI_Fire",
"KENEKSI_DELTA",
"Keneksi_Norma",
"KENEKSI-Crystal",
"Golf",
"m4",
"mint",
"HighScreen",
"Tesla",
"Y25",
"PIXI3_4TF",
"HWY520-U",
"PMT3038_3G",
"Yaris_M_GSM",
"gs702c",
"e2ds",
"Lenovo A60+",
"rk3026",
"y30f",
"DASHJRTV",
"corsica",
"l70pds",
"PMT3017_WI",
"N817",
"j1pop3g",
"j1lte",
"j1nlte",
"j1qltevzw",
"j13gtfnvzw",
"j1acelte",
"j1x3g",
"j1xlte",
"j1acelteltn",
"j13g",
"vivaltods5m",
"mintss",
"higgs2g",
"mintts",
"logan2g",
"young2ve3g",
"royssnfc",
"roy",
"young2ds2g",
"royssdtv",
"young2nfc3g",
"young23g",
"royss",
"young23gdtv",
"roydtv",
"R821T",
"oppo73_gb",
"1201",
"oppo75_12051",
"X9007",
"oppo17_12061",
"R8007",
"oppo77_12021",
"R820",
"A11w",
"OPPO82_13067",
"R830",
"oppo75_emmc_11071",
"OPPO72_14079",
"oppo15_12033",
"oppo75_emmc_12007",
"OPPO_13055",
"oppo17_12035",
"oppo75_12057",
"oppo15td_12053",
"oppo15td_12033",
"oppo17_12039",
"oppo75_12073",
"oppo15_12053",
"OPPO72_13076",
"oppo77_12037",
"oppo75_emmc_12009",
"oppo77_12015",
"oppo13_gb",
"a360",
"A360t",
"A360e",
"lenovo13_td",
"A368t",
"A3600-d",
"D5788",
"SGH-I827D",
"heat3gou",
"GT-S5838",
"SHW-M240S",
"vivaltolte",
"loganlte",
"vivalto5mve3g",
"GT-S6358",
"GT-I8160",
"kylessopen",
"heatlte",
"GT-S5831i",
"GT-S5830M",
"GT-S5830T",
"loganlite3g",
"logands",
"GT-S6800",
"vivalto3mve3g",
"GT-I8160L",
"heatnfc3g",
"loganu3gcmcc",
"GT-I8160P",
"GT-S7500T",
"vivalto3mve3gltn",
"GT-S5830C",
"SCH-I619",
"SCH-i589",
"SCH-I589",
"vivaltonfc3g",
"GT-S5830",
"GT-S5830G",
"vivalto",
"GT-S7500L",
"loganrelte",
"vivalto3mveml3gsea",
"vivalto3g",
"logan3gcmcc",
"GT-S6352",
"GT-S7500",
"GT-S5830L",
"logandsdtv",
"GT-S5830B",
"logan",
"GT-S5830F",
"GT-S7508",
"GT-S5830D",
"GT-S7500W",
"Nokia_N1",
"A319",
"nevisds",
"nevis",
"nevisvess",
"nevis3g",
"nevisp",
"nevis3gcmcc",
"nevisw",
"nevisnvess",
"SCH-I629",
"Y15",
"Y15S",
"HWY360-U6572",
"HWY360-U",
"A316i",
"A316",
"A390",
"pxa1L88H2",
"GT-S5570",
"GT-S5570B",
"GT-S5578",
"GT-S5570L",
"Y11",
"SGH-T679M",
"GT-I8150T",
"GT-I8150B",
"GT-I8150",
"q7lteskt",
"acer_z200",
"SO-01C",
"LT18a",
"LT18i",
"LT15i",
"w5",
"vee7e",
"vee7ds",
"u0",
"E15i",
"hwu9500",
"htc_v0_dug",
"s9081",
"GT-S5570",
"GT-S6500L",
"GT-S5570B",
"GT-S5578",
"GT-S6500T",
"GT-S6500",
"GT-S6500D",
"GT-S5570L",
"X10i",
"E15i",
"U20i",
"X10a",
"GT-S5302",
"pocket2ss3g",
"corsicave3g",
"coriplus",
"corsicass",
"pocket23g",
"d2aio",
"corsicaveds3gvj",
"GT-S5302B",
"SO-03C",
"ST18a",
"ST18i",
"vee3ds",
"e0_open_eur",
"e1",
"e0",
"vee3e",
"acer_z410",
"acer_Z6",
"vee5nfc",
"vee5ss",
"m4ds",
"vee5ds",
"MT15a",
"MT25i",
"MT11i",
"MT15i",
"MT11a",
"SO-01C",
"LT18a",
"LT18i",
"LT15i",
"v1",
"v1ds",
"v1ts",
"S880i",
"s880_row",
"s880",
"A111",
"Micromax",
"A72",
"A110Q",
"A75",
"A91",
"tinnoes73_s8030_2g",
"A27",
"A89",
"A116",
"tinnoes13_s7050",
"A88",
"A54",
"A57",
"s9081",
"A56",
"A87",
"kpt73_gb",
"A73",
"A84",
"rk30sdk",
"Fly",
"Vodafone_Smart_Tab_3G",
"rks753",
"ONE TOUCH 6012D",
"MT6572",
"Z120",
"acer_ZXR",
"ZX",
"T012",
"Z1",
"Crane",
"sangfei73_gb",
"me172v",
"MT3A",
"s8073",
"IQ4405_Quad",
"htc_m4",
"golfc",
"gtou",
"villeplus",
"m7wlv",
"marvelc",
"endeavoru",
"primoc",
"t6whl",
"m7",
"m7wls",
"villec2",
"legend",
"m7cdug",
"pico",
"evitareul",
"k2u",
"k2ul",
"m7cdwg",
"t6ul",
"k2plccl",
"cp2dcg",
"totemc2",
"enrc2b",
"k2cl",
"primou",
"ville",
"vivo",
"golfu",
"evita",
"SIMPlus",
"oay210",
"hwu8655",
"hwu8186",
"hwy210-0010",
"hws10101u",
"hwm865c",
"hwu8650",
"hwm865",
"hwy210-2010",
"hwu8185",
"hwG610-U20",
"hwY301A2",
"hwu8652-51",
"hwY301A1",
"C5133",
"vee4ts",
"thunderg",
"u0",
"gelato_sea-xx",
"vee7ds",
"univa_arb-xx",
"swift",
"vee3ds",
"e0",
"univa_esa-xx",
"vee7e",
"v1ts",
"univa_open-eu",
"v1",
"univa_tur-xx",
"m4",
"univa_cis-xxx",
"vee3e",
"vee5ss",
"v1ds",
"vee4ss",
"pecan",
"vee5nfc",
"univa_eur-xx",
"univa_222-01",
"vee5ds",
"thunderc",
"vee4ds",
"N821",
"umts_milestone2",
"XT535",
"umts_jordan",
"cdma_shadow",
"silversmart_umts",
"XT532",
"tinboostplus_umts",
"XT530",
"hawk35_umts",
"XT531",
"C771",
"C811",
"msm7627_surf",
"rk30sdk",
"GT-I9000B",
"GT-S5369",
"SCH-i589",
"GT-S5363",
"GT-S7500W",
"GT-I8150T",
"goldenltebmc",
"melius3gduosctc",
"ivory",
"GT-S6352",
"GT-I9003L",
"GT-S5830T",
"GT-S7500L",
"SHW-M250K",
"GT-S5570I",
"nevis3g",
"nevisw",
"coriplusds",
"kyleve",
"GT-S6500T",
"SCH-P739",
"GT-S5830i",
"GT-I9000T",
"GT-S5300L",
"roydtv",
"GT-S7508",
"GT-S5570",
"GT-S5300B",
"GT-S6102B",
"mintts",
"GT-S5367",
"GT-B5510",
"GT-S6800",
"GT-I5510",
"GT-S6802B",
"GT-S5368",
"GT-S5302",
"SHW-M240S",
"kyleopen",
"nevisds",
"SGH-I827D",
"kylepro",
"p4notelteskt",
"GT-S5570B",
"GT-S6358",
"GT-S5670L",
"GT-S5670",
"GT-S5360B",
"kyleve3gcmcc",
"GT-S5830C",
"melius3g",
"GT-S5670B",
"GT-S6102",
"SCH-I509",
"GT-I5510T",
"GT-S5830L",
"p4noterf",
"GT-S6802",
"SHW-M305W",
"royssdtv",
"GT-B5512",
"corsica",
"nevis3gcmcc",
"GT-B5512B",
"SGH-I957D",
"GT-S5830B",
"nevisnvess",
"SHW-M250S",
"GT-S5838",
"GT-B5510L",
"SCH-i509",
"royssnfc",
"GT-S6102E",
"coriplus",
"SCH-I589",
"GT-S5830V",
"p4noterfktt",
"GT-S5578",
"GT-S5830",
"GT-S5831i",
"SGH-I957M",
"GT-S5830G",
"GT-S5839i",
"p4noterfskt",
"mintss",
"GT-S5830D",
"GT-B5510B",
"GT-I9001",
"nevis",
"golden",
"GT-I9003",
"GT-S5830M",
"goldenltevzw",
"GT-S5360",
"corsicass",
"nevisvess",
"goldenlteatt",
"kyleichn",
"GT-S6500L",
"roy",
"GT-S5302B",
"GT-I5510L",
"kylevess",
"GT-S6108",
"GT-S5570L",
"SHW-M250L",
"GT-S5830F",
"nevisp",
"GT-S5360T",
"GT-S5300",
"GT-S5360L",
"SCH-I579",
"GT-S6500",
"LT18a",
"ST15i",
"ST21i2",
"LT15i",
"ST18i",
"S51SE",
"ST23i",
"C1605",
"R800a",
"C1504",
"SO-01D",
"X10a",
"ST17i",
"SO-01C",
"X10i",
"ST15a",
"ST21i",
"R800x",
"R800at",
"SK17a",
"ST27a",
"robyn",
"E15i",
"ST27i",
"ST26i",
"R800i",
"U20i",
"one_touch_918_gsm",
"one_touch_903A_gsm",
"Pixo_GSM",
"one_touch_918D_gsm",
"ONE_TOUCH_918D_umts",
"msm7627_ffa",
"OT_918_gsm",
"OT-930",
"one_touch_918N_gsm",
"Megane_GSM",
"ONE_TOUCH_918N_umts",
"Vodafone_Smart_II_gsm",
"one_touch_908_gsm",
"one_touch_918A_gsm",
"one_touch_916_gsm",
"MTC-962_gsm",
"BeetleliteJB",
"one_touch_916A_gsm",
"one_touch_916A_gsm",
"ONE_TOUCH_928D_gsm",
"one_touch_903D_gsm",
"one_touch_922_gsm",
"one_touch_918S_gsm",
"Beetle_GSM",
"MTC_960_gsm",
"OT_919_gsm",
"OT_919_HelloKitty_gsm",
"MegaFon_SP-A10",
"Beetle_Lite_GSM",
"V768",
"ZTE-Blade-V",
"arthur4g",
"blade",
"P253A20",
"oceanus",
"blade2",
"sean",
"fluid",
"P172G10_UK_VIRGIN",
"ZTE-Blade-G",
"p173a10",
"seanplus",
"warp2",
"arthur",
"P172D01",
"P175A40",
"bladeplus",
"ztenj73_gb",
"ZTE-N880G",
"ZTE-N881E",
"ZTE-N807",
"Blade-III-Pro",
"ZTE-N880F",
"P175A60",
"hope",
"ZTE-N881F",
"ZTE-N818",
"nex",
"crane-inet",
"GLORY",
"SmartPad Go",
"bq_Edison2_QuadCore",
"Fly_IQ4404",
"MegaFon_SP-AI",
"rkm755sdk",
"Golf",
"Megafon",
"Megafon",
"cooper",
"Fly_IQ454",
"ST17a",
"rk2928sk7204",
"GT-P7510",
"rk2928sdk",
"NX008HD8G",
"hsdroid",
"rk2928sk7240",
"gs701b",
"s4050ap",
"vh015_72_w_emmc_t35ac",
"HWY220-U",
"j13g",
"YARISXL",
"kanas",
"w3c",
"RCT6773W22B",
"vee4ds",
"hwG620S-L01",
"DL701Q",
"astar-ococci",
"Casper_VIA_V5",
"SOUL45_GSM",
"ASUS_Z007",
"S660",
"verykool",
"kyleprods",
"YARISXL",
"kylevess",
"DL701Q",
"Bigben-TAB",
"hws7930u",
"coreprimeltespr",
"HWY511-U",
"Pixi3454GSPR",
"KENEKSI-SUN",
"Beeline_Tab",
"Vega",
"blu",
"Yaris_M_GSM",
"y25",
"ONE TOUCH 6012D",
"ONE TOUCH 6012A",
"vee4ds",
"Yaris_M_GSM",
"C1505",
"YarisL_GSM",
"PI070H08XO",
"fortuna3g",
"Diablo",
"Vodafone_785",
"c50",
"coriplus",
"Fly_IQ4404",
"g3",
"presto",
"falcon_umts",
"hwY300-0100",
"kylevess",
"D2105",
"PMP5785C3G_QUAD",
"NXA8QC116",
"DL701Q",
"MT3A",
"YarisL_GSM",
"SGH-I997",
"luv20ss",
"A369i",
"nuclear-inet",
"hwG510-0251",
"7252",
"G700",
"Pixi3-4",
"YPY_L700",
"BLU DASH L",
"YPY_L700",
"D2005",
"ZTE-V811",
"K013",
"K013C",
"K013_1",
"9300",
"Q8",
"RCT6303W87DK",
"X7T",
"GT-P5110",
"K010",
"K010_1",
"K010E_1",
"K010E",
"K010_3",
"Beeline_Smart3",
"QUANTUM_400_Lite",
"QUANTUM_400_LITE",
"RCT6773W42B",
"bonnie",
"5560S",
"SK352",
"SK352_Connect",
"SOUL4NA",
"BLU STUDIO C MINI",
"BLU STUDIO 5.0 Ce",
"BLU STUDIO 5.0 C",
"EM756",
"HWY320-U",
"HWY320-T00",
"HWY320",
"hwy320-c00",
"8750",
"Megane",
"C5303",
"hd710",
"a2_wifi_row",
"a2_wifi",
"K018",
"LEMENTTAB741",
"A850",
"A850p",
"A850_ROW",
"M7-3G",
"Yaris35_GSM",
"P900",
"Q900",
"Q900S_Plus",
"Q900S",
"PMT3011_3G",
"PSP3450DUO",
"SCH-S738C",
"Avvio786",
"hwY330-U01",
"Hit",
"IQ4415",
"LT30p",
"A3300-T",
"A3300-GV",
"A3300-H",
"A3300-HV",
"A63",
"TM700A",
"VF695",
"XT907",
"metis",
"7DTB25",
"B1-A71",
"CUBOT GT95",
"hwG510-0100",
"hwG510-0010",
"hwY330-U15",
"HWY336-U",
"MT8312",
"rk312x",







"NOT A REAL DEVICE, just an ending"
];

// remove not unique elements
var blocked_devices_tofilter = blocked_devices_all.filter(function(elem, pos,arr) {
    return arr.indexOf(elem) == pos;
  }); 
  
// to Lower Case them allvar sorted = [];
var blocked_devices = [];
for (var i = 0; i < blocked_devices_tofilter.length; i++) {
    blocked_devices.push(blocked_devices_tofilter[i].toLowerCase());
}
 
var cleaned_items = blocked_devices_all.length - blocked_devices.length;
console.log("Duplicates: " + cleaned_items);
 
// filtering ready
var blocked_devices_size = blocked_devices.length;

// CODE
var className = document.evaluate( 'string(//li[@data-device-id]/checkbox/@class)', document, null, XPathResult.STRING_TYPE, null ).stringValue;
var switches = document.getElementsByClassName(className);

var switched = 0

var size = switches.length;
for(var i=0; i < size; i++) {
	//get the switch
	var item = switches.item(i);
	var id = item.getAttribute("id");
	//console.log(id);
	
	// get perent
	var perent = item.parentElement;
	
	// get device id
	var device_id = perent.getAttribute("data-device-id").toLowerCase();
	//console.log(device_id);
	
	// get children
	var children = perent.children;
	var label = children[1];
	
	// get name of product
	var data_product = label.children[0];
	if (label.length == 3) {
		// dont check the manufacturer
		data_product = label.children[1];
	}
	var device_name = data_product.innerHTML.toLowerCase();
	//console.log(device_name);
	
	// get the indexes
	var device_id_index = blocked_devices.indexOf(device_id);
	var device_name_index = blocked_devices.indexOf(device_name);
	
	// check condition
	if (device_id_index >= 0 || device_name_index >= 0) {
		// ok, use the switch
		if (switches.item(i).getAttribute("aria-checked") == "false") {
			console.log("Switch for " + device_name);
			switches[i].click();
		} 
		
		switched = switched + 1;
		
		// get the index used
		var index = 0;
	
		if (device_id_index >= 0) {
			index = device_id_index;
		} 
		
		if (device_name_index >= 0) {
			index = device_name_index;
		}
		
		// remove from array
		blocked_devices.splice(index, 1);
	}
   
   //console.log('==============');
}

// final check
var failed_items = blocked_devices_size - switched;
console.log("Failed items amount: " + failed_items);

// output failed items
console.log("Failed list:");
console.log(blocked_devices);


